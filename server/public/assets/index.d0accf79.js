var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,r=Object.getOwnPropertySymbols,a=Object.prototype.propertyIsEnumerable,s=(t,r,a)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,o=(e,o)=>{for(var i in o||(o={}))t.call(o,i)&&s(e,i,o[i]);if(r)for(var i of r(o))a.call(o,i)&&s(e,i,o[i]);return e};import{m as i,a as d,o as l,c as n,b as c,t as u,F as p,r as m,d as h,e as g,w as v,v as f,f as y,g as S,h as x,i as D,j as b,k as w}from"./vendor.98bd183e.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(r){const a=new URL(e,location),s=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((r,o)=>{const i=new URL(e,a);if(self[t].moduleMap[i])return r(self[t].moduleMap[i]);const d=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(d),onerror(){o(new Error(`Failed to import: ${e}`)),s(l)},onload(){r(self[t].moduleMap[i]),s(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/assets/");const P={name:"ProvidersList",data:()=>({selectedProvider:{}}),computed:o({},i(["selectedRoute","availableProviders","filteredProviders"])),methods:o(o({},d(["updateSelectedDeparture","updateSelectedRoute","updateSelectedProviders","updateReservationState","updateSortBy"])),{updateSelectedProvidersData(e,t=!1){t?(this.updateSelectedDeparture(""),this.updateReservationState(!0)):this.updateSelectedDeparture(this.selectedRoute.routeInfo.to.name),e.routeInfo=this.selectedRoute.routeInfo,this.updateSelectedProviders(e),this.updateSelectedRoute({})},selectProvider(e){this.selectedProvider=e},providerSelected(e){return e==this.selectedProvider},formatDate:e=>new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"short"}).format(new Date(e)),formatPrice:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),getFlightDurationString(e){const t=new Date(e.flightEnd).valueOf()-new Date(e.flightStart).valueOf(),r=Math.floor(t/864e5),a=Math.floor(t/36e5),s=Math.floor(t/6e4);let o="";return r>1&&(o+=`${r} days `),1==r&&(o+=`${r} day `),a%24>0&&(o+=a%24+" h "),s%60>0&&(o+=s%60+" min"),o},handleSorting(e){switch(e){case"Duration":this.updateSortBy("duration");break;case"Price":this.updateSortBy("price");break;default:this.updateSortBy("duration")}}})},R={class:"my-10"},E={class:"mb-4 text-xl text-center text-gray-100"},L=h("Traveling from "),k={class:"text-2xl"},T=h(" to "),C={class:"text-2xl"},_=c("p",{class:"mt-2 text-md text-center text-gray-400"},"Check your options:",-1),U={key:0},A={class:"flex justify-end"},I={class:"flex"},O={class:"flex justify-between"},j={class:"text-2xl font-bold text-white"},N={class:"text-md text-white"},M=h("Duration: "),F={class:"mt-2 text-sm text-gray-400"},B={class:"flex justify-between"},V={class:"mt-2 text-sm text-gray-400"},$={class:"text-2xl font-bold text-white"},G={key:0,class:"flex justify-between mt-4"},Y={key:1},Z=c("p",{class:"mt-6 font-bold text-center text-white"},"There is no flight offers after your arrival date.",-1);P.render=function(e,t,r,a,s,o){return l(),n("div",R,[c("h2",E,[L,c("strong",k,u(e.selectedRoute.routeInfo.from.name),1),T,c("strong",C,u(e.selectedRoute.routeInfo.to.name),1)]),_,e.filteredProviders.length?(l(),n("div",U,[c("div",A,[c("div",I,[c("div",{onClick:t[1]||(t[1]=e=>o.handleSorting("Duration")),class:"cursor-pointer px-6 py-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"}," Duration "),c("div",{onClick:t[2]||(t[2]=e=>o.handleSorting("Price")),class:"cursor-pointer ml-2 px-6 py-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"}," Price ")])]),(l(!0),n(p,null,m(e.filteredProviders,(e=>(l(),n("div",{key:e.id,onClick:t=>o.selectProvider(e),class:["my-2 mx-auto p-4 rounded-lg shadow-lg hover:bg-gray-900",[o.providerSelected(e)?"bg-gray-900":"bg-gray-800"]]},[c("div",O,[c("h1",j,u(e.company.name),1),c("h1",N,[M,c("strong",null,u(o.getFlightDurationString(e)),1)])]),c("p",F,"Departing: "+u(o.formatDate(e.flightStart)),1),c("div",B,[c("p",V,"Arriving: "+u(o.formatDate(e.flightEnd)),1),c("h1",$,u(o.formatPrice(e.price)),1)]),o.providerSelected(e)?(l(),n("div",G,[c("div",{onClick:t=>o.updateSelectedProvidersData(e,!0),class:"cursor-pointer px-6 py-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"}," Make a reservation",8,["onClick"]),c("div",{onClick:t=>o.updateSelectedProvidersData(e),class:"cursor-pointer px-6 py-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"}," Add as a stop",8,["onClick"])])):g("",!0)],10,["onClick"])))),128))])):(l(),n("div",Y,[Z]))])};const z={name:"DestinationsList",computed:o({},i(["destinations","selectedDeparture"])),methods:o(o({},d(["updateSelectedDeparture","updateSelectedRoute"])),{updateSelectedRouteData(e){this.updateSelectedRoute(e),this.updateSelectedDeparture("")},handlePlanetThumbnails(e){switch(e.routeInfo.to.name){case"Earth":return"https://cdn.mos.cms.futurecdn.net/YLMh9EJRPhmht9GWNhiN7G.jpg";case"Mercury":return"https://www.cronodon.com/images/mercury-1a.jpg";case"Venus":return"https://media.nature.com/lw800/magazine-assets/d41586-020-02785-5/d41586-020-02785-5_18436254.jpg";case"Mars":return"https://images.immediate.co.uk/production/volatile/sites/4/2021/03/HERO_GettyImages-56650294-c8b2bdd.jpg?quality=90&resize=768,574";case"Jupiter":return"https://upload.wikimedia.org/wikipedia/commons/2/2b/Jupiter_and_its_shrunken_Great_Red_Spot.jpg";case"Saturn":return"https://cdn.britannica.com/67/21167-004-6B1CF05E/Saturn-storm-Earth-region-observations-image-Hubble-December-1-1994.jpg";case"Uranus":return"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Uranus2.jpg/1200px-Uranus2.jpg";case"Neptune":return"https://upload.wikimedia.org/wikipedia/commons/6/63/Neptune_-_Voyager_2_%2829347980845%29_flatten_crop.jpg";default:return"https://cdn.mos.cms.futurecdn.net/YLMh9EJRPhmht9GWNhiN7G.jpg"}},formatDistance:e=>(new Intl.NumberFormat).format(e/1e3)})},H={class:"my-10"},J={class:"mb-4 text-xl text-center text-gray-100"},W={class:"w-2/3 p-4"},q={class:"text-2xl font-bold text-white"},K={class:"mt-2 text-sm text-gray-400"},Q={class:"mt-2 text-sm text-gray-400"};z.render=function(e,t,r,a,s,o){return l(),n("div",H,[c("h2",J,"From "+u(e.selectedDeparture)+" you can travel to:",1),(l(!0),n(p,null,m(e.destinations,(e=>(l(),n("div",{key:e._id,onClick:t=>o.updateSelectedRouteData(e),class:"flex my-4 max-w-md mx-auto overflow-hidden rounded-lg shadow-lg bg-gray-800 hover:bg-gray-900"},[c("img",{class:"w-1/3 bg-cover object-cover",src:o.handlePlanetThumbnails(e)},null,8,["src"]),c("div",W,[c("h1",q,u(e.routeInfo.to.name),1),c("p",K,u(o.formatDistance(e.routeInfo.distance))+" km away",1),c("p",Q,"There are "+u(e.providers.length)+" offers available",1)])],8,["onClick"])))),128))])};const X={name:"DepartureSelection",data:()=>({search:"",showDepartureList:!1}),computed:o({},i(["departures"])),methods:o(o({},d(["updateSearch","updateSelectedDeparture","updateSelectedRoute","updateSelectedProviders"])),{updateSearchData(){this.updateSearch(this.search)},updateShowDepartureList(e){this.showDepartureList=e},updateSelectedDepartureData(e){this.search="",this.updateSearchData(),this.updateSelectedDeparture(e),this.updateSelectedRoute({})}})},ee={class:"relative px-5 my-2 mx-10 rounded-md"},te={class:"relative"},re=c("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[c("svg",{class:"w-5 h-5 text-gray-400",viewBox:"0 0 24 24",fill:"none"},[c("path",{d:"M21 21L15 15M17 10C17 13.866 13.866 17 10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),ae={key:0,class:"bg-gray-700 absolute inset-x-0 mx-5 my-3 overflow-y-auto border rounded-md max-h-100"},se={class:"px-4 py-2 border-gray-600 font-medium border text-gray-100"},oe={key:0,class:"bg-gray-800"},ie=c("h3",{class:"px-4 py-2 border-gray-600 font-medium border text-gray-100"},"No Matches",-1);X.render=function(e,t,r,a,s,o){return l(),n("div",ee,[c("div",te,[re,v(c("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.search=e),onKeyup:t[2]||(t[2]=(...e)=>o.updateSearchData&&o.updateSearchData(...e)),onClick:t[3]||(t[3]=e=>o.updateShowDepartureList(!0)),class:"w-full py-3 pl-10 pr-4 border rounded-md bg-gray-800 text-gray-300 border-gray-600 focus:border-blue-500 focus:outline-none focus:ring",placeholder:"Departure Planet"},null,544),[[f,s.search]])]),s.search.length||s.showDepartureList?(l(),n("div",ae,[(l(!0),n(p,null,m(e.departures,(e=>(l(),n("div",{key:e._id,onClick:t=>{o.updateSelectedDepartureData(e),o.updateShowDepartureList(!1)},class:"bg-gray-800 transition-colors duration-150 hover:bg-gray-900"},[c("h3",se,u(e),1)],8,["onClick"])))),128)),e.departures.length?g("",!0):(l(),n("div",oe,[ie]))])):g("",!0)])};const de={name:"DepartureSelection",computed:o({},i(["selectedProviders","reservationState","selectedRoute"])),methods:o(o({},d(["clearSelectedProviders","updateReservationState","updateSelectedDeparture","updateSelectedRoute"])),{formatDate:e=>new Intl.DateTimeFormat("en-US",{dateStyle:"long",timeStyle:"short"}).format(new Date(e)),formatPrice:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),makeReservation(){this.updateSelectedDeparture(""),this.updateReservationState(!0),this.updateSelectedRoute({})},getFlightDurationString(e){const t=new Date(e.flightEnd).valueOf()-new Date(e.flightStart).valueOf(),r=Math.floor(t/864e5),a=Math.floor(t/36e5),s=Math.floor(t/6e4);let o="";return r>1&&(o+=`${r} days `),1==r&&(o+=`${r} day `),a%24>0&&(o+=a%24+" h "),s%60>0&&(o+=s%60+" min"),o},getTotalPrice(){return this.selectedProviders.reduce(((e,t)=>e+t.price),0)},clearReservationState(){this.updateReservationState(!1),this.clearSelectedProviders()}})},le={class:"my-10"},ne=c("h2",{class:"mb-4 text-xl text-center text-gray-100"},"Your selected travel routes:",-1),ce={class:"mt-6 mb-2 text-xl text-center text-gray-100"},ue=h("Traveling from "),pe={class:"text-2xl"},me=h(" to "),he={class:"text-2xl"},ge={class:"my-2 mx-auto p-4 rounded-lg shadow-lg bg-gray-800"},ve={class:"flex justify-between"},fe={class:"text-2xl font-bold text-white"},ye={class:"text-md text-white"},Se=h("Duration: "),xe={class:"mt-2 text-sm text-gray-400"},De={class:"flex justify-between"},be={class:"mt-2 text-sm text-gray-400"},we={class:"text-2xl font-bold text-white"},Pe=c("div",{class:"text-xl mt-6 text-right text-gray-100"},"Total Price",-1),Re={class:"text-2xl font-bold text-right text-gray-100"},Ee={class:"flex justify-start"};de.render=function(e,t,r,a,s,o){return l(),n("div",le,[ne,(l(!0),n(p,null,m(e.selectedProviders,(e=>(l(),n("div",{key:e.id},[c("h2",ce,[ue,c("strong",pe,u(e.routeInfo.from.name),1),me,c("strong",he,u(e.routeInfo.to.name),1)]),c("div",ge,[c("div",ve,[c("h1",fe,u(e.company.name),1),c("h1",ye,[Se,c("strong",null,u(o.getFlightDurationString(e)),1)])]),c("p",xe,"Departing: "+u(o.formatDate(e.flightStart)),1),c("div",De,[c("p",be,"Arriving: "+u(o.formatDate(e.flightEnd)),1),c("h1",we,u(o.formatPrice(e.price)),1)])])])))),128)),Pe,c("div",Re,u(o.formatPrice(o.getTotalPrice())),1),c("div",Ee,[c("div",{onClick:t[1]||(t[1]=e=>o.clearReservationState()),class:"cursor-pointer px-6 py-2 mr-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"}," Clear selections"),e.reservationState?g("",!0):(l(),n("div",{key:0,onClick:t[2]||(t[2]=e=>o.makeReservation()),class:"cursor-pointer px-6 py-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"}," Make a reservation"))])])};const Le={name:"ReservationForm",data:()=>({firstNameInput:"",lastNameInput:""}),computed:o({},i(["departures"])),methods:o(o({},d(["updateSearch","updateSelectedDeparture","updateSelectedRoute","updateSelectedProviders","makeReservation"])),{submitReservation(){this.makeReservation({firstName:this.firstNameInput,lastName:this.lastNameInput})},updateSelectedDepartureData(e){this.search="",this.updateSearchData(),this.updateSelectedDeparture(e),this.updateSelectedRoute({})}})},ke={class:""},Te=c("h2",{class:"text-xl text-center font-semibold text-gray-100"},"Fill your reservation details",-1),Ce={class:"grid grid-cols-1 gap-6 mt-4 sm:grid-cols-2"},_e=c("label",{class:"text-gray-200"},"First Name",-1),Ue=c("label",{class:"text-gray-200"},"Last Name",-1),Ae={class:"flex justify-start mt-6"};Le.render=function(e,t,r,a,s,o){return l(),n("div",ke,[Te,c("form",null,[c("div",Ce,[c("div",null,[_e,v(c("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.firstNameInput=e),type:"text",class:"block w-full px-4 py-2 mt-2 border rounded-md bg-gray-800 text-gray-300 border-gray-600 focus:border-blue-500 focus:outline-none focus:ring"},null,512),[[f,s.firstNameInput,void 0,{trim:!0}]])]),c("div",null,[Ue,v(c("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.lastNameInput=e),type:"text",class:"block w-full px-4 py-2 mt-2 border rounded-md bg-gray-800 text-gray-300 border-gray-600 focus:border-blue-500 focus:outline-none focus:ring"},null,512),[[f,s.lastNameInput,void 0,{trim:!0}]])])]),c("div",Ae,[c("div",{onClick:t[3]||(t[3]=e=>o.submitReservation()),class:"cursor-pointer px-6 py-2 font-semibold text-gray-100 transition-colors duration-200 transform bg-gray-800 shadow rounded-md hover:bg-gray-600 focus:outline-none focus:bg-gray-600"},"🚀 Make reservation")])])])};const Ie={},Oe={class:"absolute top-10 left-10 flex w-full max-w-sm mx-auto overflow-hidden rounded-lg shadow-lg bg-gray-800"},je=c("div",{class:"flex items-center justify-center w-12 bg-green-500"},[c("svg",{class:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})])],-1),Ne=y('<div class="px-4 py-2 -mx-3"><div class="mx-3"><span class="font-semibold text-green-400">Success</span><p class="text-sm text-gray-200">Your reservation was successful!</p><p class="text-sm text-gray-200">Data will be synchronized with your brain-chip shortly.</p></div></div>',1);Ie.render=function(e,t){return l(),n("div",Oe,[je,Ne])};const Me={},Fe={class:"absolute top-10 left-10 flex w-full max-w-sm mx-auto overflow-hidden rounded-lg shadow-lg bg-gray-800"},Be=c("div",{class:"flex items-center justify-center w-12 bg-green-500"},[c("svg",{class:"w-6 h-6 text-white fill-current",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M20 3.33331C10.8 3.33331 3.33337 10.8 3.33337 20C3.33337 29.2 10.8 36.6666 20 36.6666C29.2 36.6666 36.6667 29.2 36.6667 20C36.6667 10.8 29.2 3.33331 20 3.33331ZM16.6667 28.3333L8.33337 20L10.6834 17.65L16.6667 23.6166L29.3167 10.9666L31.6667 13.3333L16.6667 28.3333Z"})])],-1),Ve=y('<div class="px-4 py-2 -mx-3"><div class="mx-3"><span class="font-semibold text-green-400">Success</span><p class="text-sm text-gray-200">Data has been updated!</p><p class="text-sm text-gray-200">Sorry for possible inconveniences.</p></div></div>',1);Me.render=function(e,t){return l(),n("div",Fe,[Be,Ve])};var $e={fetchPriceListFromAPI:async()=>(await S.get("https://cosmos-odyssey.azurewebsites.net/api/v1.0/TravelPrices")).data,getAllPriceLists:async()=>(await S.get("api/pricelists/")).data,makeReservation:async e=>(await S.post("api/reservations/",e)).data};const Ge={components:{"providers-list":P,"destinations-list":z,"departure-selection":X,"selected-providers-list":de,"reservation-form":Le,"success-alert":Ie,"data-update-alert":Me},data:()=>({}),async created(){await this.$store.dispatch("loadPriceLists"),this.refreshData()},computed:o({},i(["latestPriceList","priceListDataLoaded","selectedDeparture","selectedRoute","reservationState","selectedProviders","reservationSuccess","dataUpdateSuccess"])),methods:o(o({},d(["updateReservationSuccess","updateDataUpdateSuccess","clearSelectedProviders","updateReservationState","updateSelectedRoute"])),{refreshData(){const e=new Date(this.latestPriceList.validUntil).valueOf()-Date.now();console.log(e),setTimeout((()=>{this.$store.dispatch("loadPriceLists"),this.clearSelectedProviders(),this.updateReservationState(!1),this.updateReservationSuccess(!1),this.updateDataUpdateSuccess(!0),this.updateSelectedRoute({}),this.refreshData()}),e)}}),watch:{reservationSuccess(e){e&&setTimeout((()=>{this.updateReservationSuccess(!1)}),9e3)},dataUpdateSuccess(e){e&&setTimeout((()=>{this.updateDataUpdateSuccess(!1)}),7e3)}}},Ye={class:"p-10 min-h-screen bg-gray-900"},Ze={key:0,class:"max-w-3xl px-8 py-4 mx-auto rounded-lg shadow-md bg-gray-700"},ze=c("h1",{class:"text-4xl my-8 text-center font-bold text-gray-50"},"Cosmos Odyssey🚀",-1),He=c("h1",{class:"text-xl text-center text-gray-100"},"Make a reservation for your next space travel today!",-1);Ge.render=function(e,t,r,a,s,o){const i=x("departure-selection"),d=x("selected-providers-list"),c=x("reservation-form"),u=x("destinations-list"),p=x("providers-list"),m=x("success-alert"),h=x("data-update-alert");return l(),n("div",Ye,[e.priceListDataLoaded?(l(),n("div",Ze,[ze,He,e.selectedProviders.length?g("",!0):(l(),n(i,{key:0})),e.selectedProviders.length?(l(),n(d,{key:1})):g("",!0),e.reservationState?(l(),n(c,{key:2})):g("",!0),e.selectedDeparture.length?(l(),n(u,{key:3})):g("",!0),Object.entries(e.selectedRoute).length?(l(),n(p,{key:4})):g("",!0),e.reservationSuccess?(l(),n(m,{key:5})):g("",!0),e.dataUpdateSuccess?(l(),n(h,{key:6})):g("",!0)])):g("",!0)])};const Je={minMatchCharLength:1,isCaseSensitive:!1,shouldSort:!0,findAllMatches:!0,includeScore:!0,threshold:.4,keys:["routeInfo.from.name"]};var We=b({modules:{Reservation:{state:{reservationSuccess:!1,dataUpdateSuccess:!1},getters:{reservationSuccess:e=>e.reservationSuccess,dataUpdateSuccess:e=>e.dataUpdateSuccess},actions:{async makeReservation({rootGetters:e,dispatch:t,commit:r},a){const s=e.selectedProviders,o=s.reduce(((e,t)=>e+t.price),0),i=s.reduce(((e,t)=>e+(new Date(t.flightEnd)-new Date(t.flightStart))),0),d={firstName:a.firstName,lastName:a.lastName,routes:s,totalPrice:o,totalTravelTime:i,priceListId:e.latestPriceList._id};await $e.makeReservation(d),t("updateReservationState",!1,{root:!0}),t("updateSelectedDeparture","",{root:!0}),t("clearSelectedProviders",{root:!0}),t("updateSelectedRoute",{},{root:!0}),r("UPDATE_RESERVATION_SUCCESS",!0)},updateReservationSuccess({commit:e},t){e("UPDATE_RESERVATION_SUCCESS",t)},updateDataUpdateSuccess({commit:e},t){e("UPDATE_DATA_UPDATE_SUCCESS",t)}},mutations:{UPDATE_RESERVATION_SUCCESS(e,t){e.reservationSuccess=t},UPDATE_DATA_UPDATE_SUCCESS(e,t){e.dataUpdateSuccess=t}}},PriceList:{state:{priceLists:[],priceListDataLoaded:!1,search:"",selectedDeparture:"",selectedRoute:{},selectedProviders:[],selectedCompanies:[],sortBy:"duration",reservationState:!1},getters:{latestPriceList:e=>e.priceLists[0],selectedDeparture:e=>e.selectedDeparture,selectedRoute:e=>e.selectedRoute,reservationState:e=>e.reservationState,selectedProviders:e=>e.selectedProviders,availableProviders:e=>{if(e.selectedProviders.length){const t=new Date(e.selectedProviders[e.selectedProviders.length-1].flightEnd).valueOf();return e.selectedRoute.providers.filter((e=>new Date(e.flightStart).valueOf()>t))}return e.selectedRoute.providers},filteredProviders:(e,t)=>"duration"==e.sortBy?t.availableProviders.sort(((e,t)=>new Date(e.flightEnd)-new Date(e.flightStart)-(new Date(t.flightEnd)-new Date(t.flightStart)))):"price"==e.sortBy?t.availableProviders.sort(((e,t)=>e.price-t.price)):t.availableProviders,departures:(e,t)=>{let r=t.latestPriceList.legs,a=[];if(e.search.length){const t=D.createIndex(Je.keys,r);r=new D(r,Je,t).search(e.search).map((e=>e.item))}return r.forEach((e=>{a.push(e.routeInfo.from.name)})),Array.from(new Set(a))},destinations:(e,t)=>t.latestPriceList.legs.filter((t=>t.routeInfo.from.name==e.selectedDeparture)),validUntil:(e,t)=>t.latestPriceList.validUntil,priceListDataLoaded:e=>e.priceListDataLoaded},actions:{async loadPriceLists({commit:e}){e("LOAD_PRICELISTS",await $e.getAllPriceLists())},updateSearch({commit:e},t){e("UPDATE_SEARCH",t)},updateSelectedDeparture({commit:e},t){e("UPDATE_SELECTED_DEPARTURE",t)},updateSelectedRoute({commit:e},t){e("UPDATE_SELECTED_ROUTE",t)},updateSelectedProviders({commit:e},t){e("UPDATE_SELECTED_PROVIDERS",t)},clearSelectedProviders({commit:e}){e("CLEAR_SELECTED_PROVIDERS")},updateReservationState({commit:e},t){e("UPDATE_RESERVATION_STATE",t)},updateSortBy({commit:e},t){e("UPDATE_SORT_BY",t)}},mutations:{LOAD_PRICELISTS(e,t){e.priceLists=t,e.priceListDataLoaded=!0},UPDATE_SEARCH(e,t){e.search=t},UPDATE_SELECTED_DEPARTURE(e,t){e.selectedDeparture=t},UPDATE_SELECTED_ROUTE(e,t){e.selectedRoute=t},UPDATE_SELECTED_PROVIDERS(e,t){e.selectedProviders.push(t)},CLEAR_SELECTED_PROVIDERS(e,t){e.selectedProviders=[]},UPDATE_RESERVATION_STATE(e,t){e.reservationState=t},UPDATE_SORT_BY(e,t){e.sortBy=t}}}}});w(Ge).use(We).mount("#app");
